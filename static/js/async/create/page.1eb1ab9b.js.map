{"version":3,"file":"static/js/async/create/page.1eb1ab9b.js","sources":["../../../../../src/components/PageContainer.tsx","../../../../../src/components/RedHeader.tsx","../../../../../../src/config/luckyMoney.ts","../../../../../../src/lib/crypto.ts","../../../../../src/components/LoadingOverlay.tsx","../../../../../src/routes/create/page.tsx"],"sourcesContent":["import React, { type ReactNode } from 'react';\n\ninterface PageContainerProps {\n    children: ReactNode;\n}\n\n/**\n * 页面容器 — 统一暖白背景 + 安全区适配\n */\nexport default function PageContainer({ children }: PageContainerProps) {\n    return (\n        <div\n            style={{\n                width: '100%',\n                maxWidth: 430,\n                margin: '0 auto',\n                minHeight: '100%',\n                background: 'var(--lm-bg-primary)',\n                position: 'relative',\n            }}\n        >\n            {children}\n        </div>\n    );\n}\n","import { useNavigate } from '@modern-js/runtime/router';\nimport { motion } from 'framer-motion';\nimport { LeftOutlined } from '@ant-design/icons';\nimport { ConnectButton } from '@mysten/dapp-kit';\n\ninterface RedHeaderProps {\n    title?: string;\n    showBack?: boolean;\n    showWallet?: boolean;\n}\n\n/**\n * 页面头部 — 暖白透明风格 + 刘海避让\n *\n * 分为两层:\n *   1) 顶部空白 — 高度 = var(--lm-notch-height)，留出刘海区域\n *   2) 实际 header — 44px 高，含返回键 + 标题\n */\nexport default function RedHeader({\n    title = '',\n    showBack = true,\n    showWallet = true,\n}: RedHeaderProps) {\n    const navigate = useNavigate();\n\n    return (\n        <div\n            style={{\n                position: 'sticky',\n                top: 0,\n                zIndex: 50,\n                background: 'rgba(255, 250, 245, 0.92)',\n                backdropFilter: 'blur(16px)',\n                WebkitBackdropFilter: 'blur(16px)',\n                borderBottom: '1px solid rgba(0, 0, 0, 0.04)',\n            }}\n        >\n            {/* 刘海占位 */}\n            <div style={{ height: 'var(--lm-notch-height)' }} />\n\n            {/* 实际 header 内容 */}\n            <div\n                style={{\n                    display: 'grid',\n                    gridTemplateColumns: '36px 1fr auto',\n                    alignItems: 'center',\n                    height: 44,\n                    padding: '0 12px',\n                    gap: 8,\n                }}\n            >\n                {showBack && (\n                    <motion.button\n                        whileTap={{ scale: 0.9 }}\n                        onClick={() => navigate(-1)}\n                        style={{\n                            width: 32,\n                            height: 32,\n                            borderRadius: '50%',\n                            background: 'rgba(212, 56, 13, 0.06)',\n                            border: '1px solid rgba(212, 56, 13, 0.08)',\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            cursor: 'pointer',\n                            color: 'var(--lm-red)',\n                            fontSize: 13,\n                            flexShrink: 0,\n                        }}\n                    >\n                        <LeftOutlined />\n                    </motion.button>\n                )}\n                {!showBack && <div style={{ width: 32, height: 32 }} />}\n\n                {title && (\n                    <h2\n                        style={{\n                            textAlign: 'center',\n                            fontSize: 16,\n                            fontWeight: 600,\n                            color: 'var(--lm-text-primary)',\n                            margin: 0,\n                            letterSpacing: 0.5,\n                        }}\n                    >\n                        {title}\n                    </h2>\n                )}\n                {!title && <div />}\n\n                {showWallet ? (\n                    <div style={{ justifySelf: 'end' }}>\n                        <ConnectButton\n                            connectText=\"连接钱包\"\n                            style={{\n                                height: 30,\n                                padding: '0 10px',\n                                borderRadius: 16,\n                                border: '1px solid rgba(212,56,13,0.12)',\n                                background: 'rgba(212,56,13,0.06)',\n                                color: 'var(--lm-red)',\n                                fontSize: 12,\n                                fontWeight: 600,\n                                lineHeight: '30px',\n                                cursor: 'pointer',\n                            }}\n                        />\n                    </div>\n                ) : (\n                    <div style={{ width: 88 }} />\n                )}\n            </div>\n        </div>\n    );\n}\n","export const STABLE_LAYER_NETWORK = 'mainnet' as const;\n\nexport const USDC_TYPE =\n    '0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC';\nexport const BTC_USDC_TYPE =\n    '0x6d9fc33611f4881a3f5c0cd4899d95a862236ce52b3a38fef039077b0c5b5834::btc_usdc::BtcUSDC';\n\nexport const LUCKY_MONEY_PACKAGE_ID =\n    '0xbb6828ba12f04b843647d013601f166dec59dcfd061e8230dd59977892dd4f46';\nexport const LUCKY_MONEY_REGISTRY_ID =\n    '0xec0b205973baa7b6bea59967ac8c734a5b2b4defb34a262dff6507c3457d5e6f';\n\nexport const SUI_CLOCK_OBJECT_ID = '0x6';\nexport const SUI_RANDOM_OBJECT_ID = '0x8';\n\nexport const BTC_USDC_DECIMALS = 6;\n\nexport const isPlaceholderObjectId = (value: string) => /^0x0+$/i.test(value);\n\nexport const isLuckyMoneyConfigReady = () =>\n    !isPlaceholderObjectId(LUCKY_MONEY_PACKAGE_ID) &&\n    !isPlaceholderObjectId(LUCKY_MONEY_REGISTRY_ID);\n\nexport const parseTypeArgument = (fullType: string) => {\n    const match = fullType.match(/<(.+)>/);\n    return match?.[1] ?? null;\n};\n\nexport const getCoinSymbolFromType = (coinType: string) => {\n    const parts = coinType.split('::');\n    return parts[parts.length - 1] || coinType;\n};\n","const encoder = new TextEncoder();\n\nexport const randomBytes = (size: number) => {\n    if (!globalThis.crypto?.getRandomValues) {\n        throw new Error('当前环境不支持 Web Crypto，无法生成随机数');\n    }\n    const bytes = new Uint8Array(size);\n    globalThis.crypto.getRandomValues(bytes);\n    return bytes;\n};\n\nexport const sha256Bytes = async (input: Uint8Array | string) => {\n    if (!globalThis.crypto?.subtle) {\n        throw new Error('当前环境不支持 Web Crypto，无法计算哈希');\n    }\n    const normalized = typeof input === 'string' ? encoder.encode(input) : input;\n    const digest = await globalThis.crypto.subtle.digest('SHA-256', normalized);\n    return new Uint8Array(digest);\n};\n\nexport const bytesToHex = (bytes: Uint8Array) =>\n    Array.from(bytes)\n        .map(b => b.toString(16).padStart(2, '0'))\n        .join('');\n\nexport const hexToBytes = (hex: string) => {\n    let normalized = hex.trim().toLowerCase();\n    if (normalized.startsWith('0x')) normalized = normalized.slice(2);\n    if (normalized.length === 0 || normalized.length % 2 !== 0) {\n        throw new Error('无效的十六进制字符串');\n    }\n    if (!/^[0-9a-f]+$/.test(normalized)) {\n        throw new Error('十六进制字符串包含非法字符');\n    }\n    const bytes = new Uint8Array(normalized.length / 2);\n    for (let i = 0; i < normalized.length; i += 2) {\n        bytes[i / 2] = Number.parseInt(normalized.slice(i, i + 2), 16);\n    }\n    return bytes;\n};\n","import React from 'react';\nimport { Spin } from 'antd';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { GiftOutlined } from '@ant-design/icons';\nimport { LUCKY_COLORS } from '../theme/themeConfig';\n\ninterface LoadingOverlayProps {\n    visible: boolean;\n    text?: string;\n}\n\n/**\n * 全屏加载遮罩 — 红包旋转动画 + 文字提示\n */\nexport default function LoadingOverlay({\n    visible,\n    text = '处理中...',\n}: LoadingOverlayProps) {\n    return (\n        <AnimatePresence>\n            {visible && (\n                <motion.div\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    exit={{ opacity: 0 }}\n                    transition={{ duration: 0.3 }}\n                    style={{\n                        position: 'fixed',\n                        top: 0,\n                        left: 0,\n                        right: 0,\n                        bottom: 0,\n                        display: 'flex',\n                        flexDirection: 'column',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        background: 'rgba(255, 250, 245, 0.85)',\n                        backdropFilter: 'blur(10px)',\n                        WebkitBackdropFilter: 'blur(10px)',\n                        zIndex: 9999,\n                    }}\n                >\n                    <motion.div\n                        animate={{ rotate: 360 }}\n                        transition={{ repeat: Number.POSITIVE_INFINITY, duration: 2, ease: 'linear' }}\n                        style={{\n                            width: 64,\n                            height: 64,\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            borderRadius: '50%',\n                            background: LUCKY_COLORS.gradientRedSoft,\n                            boxShadow: '0 4px 20px rgba(212, 56, 13, 0.2)',\n                            marginBottom: 20,\n                        }}\n                    >\n                        <GiftOutlined style={{ fontSize: 28, color: '#FFFFFF' }} />\n                    </motion.div>\n                    <motion.p\n                        animate={{ opacity: [0.6, 1, 0.6] }}\n                        transition={{ repeat: Number.POSITIVE_INFINITY, duration: 1.5 }}\n                        style={{\n                            color: LUCKY_COLORS.textSecondary,\n                            fontSize: 16,\n                            fontWeight: 500,\n                            margin: 0,\n                        }}\n                    >\n                        {text}\n                    </motion.p>\n                </motion.div>\n            )}\n        </AnimatePresence>\n    );\n}\n","import React, { useState, useMemo } from 'react';\nimport { useNavigate } from '@modern-js/runtime/router';\nimport { InputNumber, Input, Modal, message } from 'antd';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n    UserOutlined,\n    TeamOutlined,\n    ThunderboltOutlined,\n    GiftOutlined,\n    ExclamationCircleOutlined,\n    MessageOutlined,\n} from '@ant-design/icons';\nimport PageContainer from '../../components/PageContainer';\nimport RedHeader from '../../components/RedHeader';\nimport LoadingOverlay from '../../components/LoadingOverlay';\nimport {\n    useCurrentAccount,\n    useSignAndExecuteTransaction,\n    useSuiClient,\n} from '@mysten/dapp-kit';\nimport { Transaction, coinWithBalance } from '@mysten/sui/transactions';\nimport { StableLayerClient } from 'stable-layer-sdk';\nimport { LUCKY_COLORS } from '../../theme/themeConfig';\nimport {\n    BTC_USDC_TYPE,\n    LUCKY_MONEY_PACKAGE_ID,\n    LUCKY_MONEY_REGISTRY_ID,\n    SUI_CLOCK_OBJECT_ID,\n    STABLE_LAYER_NETWORK,\n    USDC_TYPE,\n    isLuckyMoneyConfigReady,\n} from '../../config/luckyMoney';\nimport { bytesToHex, randomBytes, sha256Bytes } from '../../lib/crypto';\n\ntype EnvelopeType = 'single' | 'multi_fixed' | 'multi_random';\ninterface Expiry {\n    label: string;\n    hours: number;\n}\n\nconst ENVELOPE_TYPES: {\n    key: EnvelopeType;\n    icon: React.ReactNode;\n    title: string;\n    desc: string;\n}[] = [\n        {\n            key: 'single',\n            icon: <UserOutlined />,\n            title: '单人红包',\n            desc: '发给指定一人',\n        },\n        {\n            key: 'multi_fixed',\n            icon: <TeamOutlined />,\n            title: '多人等额红包',\n            desc: '每人领取相同金额',\n        },\n        {\n            key: 'multi_random',\n            icon: <ThunderboltOutlined />,\n            title: '拼手气红包',\n            desc: '拼手气，随机金额',\n        },\n    ];\n\nconst EXPIRIES: Expiry[] = [\n    { label: '24小时', hours: 24 },\n    { label: '3天', hours: 72 },\n    { label: '7天', hours: 168 },\n];\n\nconst QUICK_AMOUNTS = [1, 5, 10, 50, 100];\nconst MIN_AMOUNT = 0.01;\nconst MAX_AMOUNT = 10000;\nconst MAX_COUNT = 100;\nconst MAX_MESSAGE_LEN = 50;\nconst ENVELOPE_MODE: Record<EnvelopeType, number> = {\n    single: 0,\n    multi_fixed: 1,\n    multi_random: 2,\n};\n\nconst sleep = (ms: number) =>\n    new Promise(resolve => {\n        setTimeout(resolve, ms);\n    });\n\nconst formatUsdc = (amount: bigint) =>\n    (Number(amount) / 1_000_000).toFixed(6).replace(/\\.?0+$/, '');\n\n\nconst extractLuckyMoneyId = (txResult: any): string | null => {\n    const createdObject = txResult?.objectChanges?.find((change: any) => {\n        if (change?.type !== 'created') return false;\n        if (typeof change.objectType !== 'string') return false;\n        return change.objectType.includes('::core::LuckyMoney<');\n    });\n    if (createdObject?.objectId && typeof createdObject.objectId === 'string') {\n        return createdObject.objectId;\n    }\n\n    const createdEvent = txResult?.events?.find((evt: any) => {\n        if (typeof evt?.type !== 'string') return false;\n        return evt.type.endsWith('::events::LuckyMoneyCreated');\n    });\n    const eventId = createdEvent?.parsedJson?.lucky_money_id;\n    if (typeof eventId === 'string') {\n        return eventId;\n    }\n    if (eventId && typeof eventId === 'object' && typeof eventId.id === 'string') {\n        return eventId.id;\n    }\n    if (eventId && typeof eventId === 'object' && typeof eventId.bytes === 'string') {\n        return eventId.bytes.startsWith('0x')\n            ? eventId.bytes\n            : `0x${eventId.bytes}`;\n    }\n\n    return null;\n};\n\nexport default function CreatePage() {\n    const navigate = useNavigate();\n    const account = useCurrentAccount();\n    const suiClient = useSuiClient();\n    const { mutate: signAndExecute } = useSignAndExecuteTransaction();\n\n    const [isLoading, setIsLoading] = useState(false);\n    const [loadingText, setLoadingText] = useState('正在准备红包...');\n    const [type, setType] = useState<EnvelopeType>('multi_random');\n    const [amount, setAmount] = useState<number | null>(null);\n    const [count, setCount] = useState<number>(5);\n    const [expiry, setExpiry] = useState<number>(24);\n    const [blessing, setBlessing] = useState('');\n    const [showConfirm, setShowConfirm] = useState(false);\n\n    const isSingle = type === 'single';\n    const effectiveCount = isSingle ? 1 : count;\n\n    // ── Validation ──\n    const validation = useMemo(() => {\n        if (!amount || amount <= 0) return { ok: false, msg: '' };\n        if (amount < MIN_AMOUNT)\n            return { ok: false, msg: `最低金额 ${MIN_AMOUNT} USDC` };\n        if (amount > MAX_AMOUNT)\n            return { ok: false, msg: `最高金额 ${MAX_AMOUNT} USDC` };\n        if (!isSingle && effectiveCount < 1)\n            return { ok: false, msg: '红包个数至少为 1' };\n        if (type === 'multi_fixed') {\n            const perPerson = amount / effectiveCount;\n            if (perPerson < MIN_AMOUNT)\n                return {\n                    ok: false,\n                    msg: `每人至少 ${MIN_AMOUNT} USDC，请减少份数或增加金额`,\n                };\n        }\n        return { ok: true, msg: '' };\n    }, [amount, effectiveCount, type, isSingle]);\n\n    const isValid = validation.ok;\n\n    // ── Per-person hint ──\n    const perPersonHint = useMemo(() => {\n        if (isSingle) return null;\n        if (!amount || amount <= 0 || effectiveCount <= 0) return null;\n        if (type === 'multi_fixed') {\n            const per = (amount / effectiveCount).toFixed(2);\n            return `每人 ${per} USDC`;\n        }\n        return '每人随机分配';\n    }, [amount, effectiveCount, type, isSingle]);\n\n    // ── Type switch handler ──\n    const handleTypeChange = (newType: EnvelopeType) => {\n        setType(newType);\n        if (newType === 'single') {\n            setCount(1);\n        } else if (type === 'single') {\n            // switching away from single, restore default\n            setCount(5);\n        }\n    };\n\n    // ── Amount label ──\n    const amountLabel = isSingle ? '红包金额' : '总金额';\n\n    // ── Confirm modal text ──\n    const confirmText = useMemo(() => {\n        if (!amount) return '';\n        if (isSingle)\n            return `将发送 ${amount} USDC 给一名好友`;\n        if (type === 'multi_fixed') {\n            const per = (amount / effectiveCount).toFixed(2);\n            return `将发送 ${amount} USDC（每人 ${per}），共 ${effectiveCount} 份`;\n        }\n        return `将发送 ${amount} USDC，共 ${effectiveCount} 份随机分配`;\n    }, [amount, effectiveCount, type, isSingle]);\n\n    // ── Shared label style ──\n    const labelStyle: React.CSSProperties = {\n        fontSize: 14,\n        fontWeight: 600,\n        color: LUCKY_COLORS.textPrimary,\n        marginBottom: 10,\n        marginTop: 0,\n    };\n\n    const handleCreate = async () => {\n        if (!account) {\n            message.warning('请先连接钱包');\n            return;\n        }\n\n        if (!isLuckyMoneyConfigReady()) {\n            message.error(\n                '请先在 src/config/luckyMoney.ts 配置 LUCKY_MONEY_PACKAGE_ID 和 LUCKY_MONEY_REGISTRY_ID',\n            );\n            return;\n        }\n\n        setIsLoading(true);\n        setLoadingText('正在构建交易...');\n\n        try {\n            const tx = new Transaction();\n            tx.setSender(account.address);\n\n            const sdk = new StableLayerClient({\n                network: STABLE_LAYER_NETWORK,\n                sender: account.address,\n            });\n\n            const amountBigInt = BigInt(Math.floor((amount || 0) * 1_000_000));\n            const walletChains = account.chains ?? [];\n            if (\n                walletChains.length > 0 &&\n                !walletChains.some(chain => chain.toLowerCase().includes('mainnet'))\n            ) {\n                throw new Error('当前钱包网络不是 Sui Mainnet，请先切换到主网');\n            }\n\n            const usdcBalanceResp = await suiClient.getBalance({\n                owner: account.address,\n                coinType: USDC_TYPE,\n            });\n            const usdcBalance = BigInt(usdcBalanceResp.totalBalance);\n            if (usdcBalance < amountBigInt) {\n                throw new Error(\n                    `USDC 余额不足：当前 ${formatUsdc(usdcBalance)}，需要 ${formatUsdc(amountBigInt)}`,\n                );\n            }\n\n            const secret = randomBytes(32);\n            const secretCommitment = await sha256Bytes(secret);\n            const secretHex = bytesToHex(secret);\n            const expireAtMs = BigInt(Date.now() + expiry * 60 * 60 * 1000);\n\n            // 1. StableLayer Mint: USDC -> btcUSDC\n            setLoadingText('正在兑换稳定币 (1/2)...');\n            const btcUsdcCoin = await sdk.buildMintTx({\n                tx,\n                amount: amountBigInt,\n                sender: account.address,\n                usdcCoin: coinWithBalance({\n                    balance: amountBigInt,\n                    type: USDC_TYPE,\n                })(tx),\n                stableCoinType: BTC_USDC_TYPE,\n                autoTransfer: false,\n            });\n\n            if (!btcUsdcCoin) {\n                throw new Error('Failed to mint btcUSDC');\n            }\n\n            // 2. LuckyMoney Create: use the minted stable coin as payment.\n            setLoadingText('正在创建链上红包 (2/2)...');\n            tx.moveCall({\n                target: `${LUCKY_MONEY_PACKAGE_ID}::core::create`,\n                typeArguments: [BTC_USDC_TYPE],\n                arguments: [\n                    tx.object(LUCKY_MONEY_REGISTRY_ID),\n                    btcUsdcCoin,\n                    tx.pure.u8(ENVELOPE_MODE[type]),\n                    tx.pure.u64(BigInt(effectiveCount)),\n                    tx.pure.u64(expireAtMs),\n                    tx.pure.vector('u8', Array.from(secretCommitment)),\n                    tx.object(SUI_CLOCK_OBJECT_ID),\n                ],\n            });\n\n            // Execute\n            setLoadingText('请在钱包中确认交易...');\n            signAndExecute(\n                { transaction: tx as any },\n                {\n                    onSuccess: async result => {\n                        try {\n                            console.log('Transaction success:', result);\n                            setLoadingText('交易已提交，正在解析红包 ID...');\n\n                            let txResult: any = null;\n                            for (let i = 0; i < 10; i++) {\n                                txResult = await suiClient.getTransactionBlock({\n                                    digest: result.digest,\n                                    options: {\n                                        showEvents: true,\n                                        showObjectChanges: true,\n                                        showEffects: true,\n                                    },\n                                });\n\n                                const hasExtraData =\n                                    (txResult?.events?.length ?? 0) > 0 ||\n                                    (txResult?.objectChanges?.length ?? 0) > 0;\n                                if (hasExtraData) {\n                                    break;\n                                }\n                                await sleep(1200);\n                            }\n\n                            const luckyMoneyId = extractLuckyMoneyId(txResult);\n                            if (!luckyMoneyId) {\n                                throw new Error(\n                                    '交易成功但未解析到红包 ID，请检查合约事件与对象变化',\n                                );\n                            }\n\n                            setLoadingText('创建成功！正在生成链接...');\n                            setIsLoading(false);\n                            setShowConfirm(false);\n\n                            const params = new URLSearchParams({\n                                amount: String(amount ?? 0),\n                                count: String(effectiveCount),\n                                type,\n                                expiry: String(expiry),\n                                id: luckyMoneyId,\n                                secret: secretHex,\n                                digest: result.digest,\n                            });\n                            if (blessing) params.set('message', blessing);\n                            navigate(`/share?${params.toString()}`);\n                        } catch (resolveError: any) {\n                            console.error('Resolve tx result failed:', resolveError);\n                            setIsLoading(false);\n                            message.error(resolveError.message || '红包创建成功，但解析 ID 失败');\n                        }\n                    },\n                    onError: error => {\n                        console.error('Transaction failed:', error);\n                        setIsLoading(false);\n                        message.error(`交易失败: ${error.message}`);\n                    },\n                },\n            );\n        } catch (e: any) {\n            console.error(e);\n            setIsLoading(false);\n            message.error(e.message || '创建失败');\n        }\n    };\n\n    return (\n        <PageContainer>\n            <RedHeader title=\"发红包\" />\n            <LoadingOverlay visible={isLoading} text={loadingText} />\n\n            <div style={{ padding: '8px 20px 120px' }}>\n                {/* ── 红包类型 ── */}\n                <p style={labelStyle}>选择红包类型</p>\n                <div style={{ display: 'flex', gap: 10, marginBottom: 24 }}>\n                    {ENVELOPE_TYPES.map(t => {\n                        const active = type === t.key;\n                        return (\n                            <motion.div\n                                key={t.key}\n                                whileTap={{ scale: 0.96 }}\n                                onClick={() => handleTypeChange(t.key)}\n                                style={{\n                                    flex: 1,\n                                    padding: '14px 6px',\n                                    borderRadius: 14,\n                                    background: active\n                                        ? LUCKY_COLORS.red50\n                                        : LUCKY_COLORS.pureWhite,\n                                    border: active\n                                        ? `1.5px solid ${LUCKY_COLORS.red500}`\n                                        : '1.5px solid rgba(0,0,0,0.05)',\n                                    cursor: 'pointer',\n                                    textAlign: 'center',\n                                    boxShadow: active\n                                        ? '0 4px 16px rgba(212, 56, 13, 0.1)'\n                                        : 'var(--lm-shadow-sm)',\n                                    transition: 'all 0.2s ease',\n                                }}\n                            >\n                                <div\n                                    style={{\n                                        fontSize: 22,\n                                        color: active\n                                            ? LUCKY_COLORS.red500\n                                            : LUCKY_COLORS.textHint,\n                                        marginBottom: 6,\n                                    }}\n                                >\n                                    {t.icon}\n                                </div>\n                                <div\n                                    style={{\n                                        fontSize: 13,\n                                        fontWeight: 600,\n                                        color: active\n                                            ? LUCKY_COLORS.red500\n                                            : LUCKY_COLORS.textPrimary,\n                                    }}\n                                >\n                                    {t.title}\n                                </div>\n                                <div\n                                    style={{\n                                        fontSize: 11,\n                                        color: LUCKY_COLORS.textHint,\n                                        marginTop: 2,\n                                    }}\n                                >\n                                    {t.desc}\n                                </div>\n                            </motion.div>\n                        );\n                    })}\n                </div>\n\n                {/* ── 金额 ── */}\n                <p style={labelStyle}>{amountLabel}</p>\n\n                {/* 快捷金额 */}\n                <div\n                    style={{\n                        display: 'flex',\n                        gap: 8,\n                        marginBottom: 10,\n                        flexWrap: 'wrap',\n                    }}\n                >\n                    {QUICK_AMOUNTS.map(qa => (\n                        <motion.button\n                            key={qa}\n                            whileTap={{ scale: 0.92 }}\n                            onClick={() => setAmount(qa)}\n                            style={{\n                                height: 30,\n                                padding: '0 14px',\n                                borderRadius: 15,\n                                background:\n                                    amount === qa\n                                        ? LUCKY_COLORS.red50\n                                        : 'rgba(0,0,0,0.02)',\n                                border:\n                                    amount === qa\n                                        ? `1px solid ${LUCKY_COLORS.red500}`\n                                        : '1px solid rgba(0,0,0,0.06)',\n                                color:\n                                    amount === qa\n                                        ? LUCKY_COLORS.red500\n                                        : LUCKY_COLORS.textSecondary,\n                                fontSize: 13,\n                                fontWeight: 500,\n                                cursor: 'pointer',\n                                transition: 'all 0.15s',\n                            }}\n                        >\n                            {qa}\n                        </motion.button>\n                    ))}\n                </div>\n\n                <div\n                    style={{\n                        background: LUCKY_COLORS.pureWhite,\n                        borderRadius: 14,\n                        padding: '14px 16px',\n                        marginBottom: 4,\n                        border: '1.5px solid rgba(0,0,0,0.05)',\n                        boxShadow: 'var(--lm-shadow-sm)',\n                    }}\n                >\n                    <InputNumber\n                        placeholder=\"0.00\"\n                        min={0}\n                        step={0.01}\n                        value={amount}\n                        onChange={v => setAmount(v)}\n                        controls={false}\n                        style={{\n                            width: '100%',\n                            fontSize: 28,\n                            fontWeight: 700,\n                            background: 'transparent',\n                            border: 'none',\n                        }}\n                        addonAfter={\n                            <span\n                                style={{\n                                    fontSize: 14,\n                                    color: LUCKY_COLORS.textSecondary,\n                                    fontWeight: 500,\n                                }}\n                            >\n                                USDC\n                            </span>\n                        }\n                    />\n                </div>\n\n                {/* 每人金额提示 / 校验报错 */}\n                <div\n                    style={{\n                        minHeight: 24,\n                        marginBottom: 20,\n                        paddingLeft: 2,\n                    }}\n                >\n                    {validation.msg ? (\n                        <span\n                            style={{\n                                fontSize: 12,\n                                color: '#FF4D4F',\n                            }}\n                        >\n                            {validation.msg}\n                        </span>\n                    ) : perPersonHint ? (\n                        <span\n                            style={{\n                                fontSize: 12,\n                                color: LUCKY_COLORS.textHint,\n                            }}\n                        >\n                            {perPersonHint}\n                        </span>\n                    ) : null}\n                </div>\n\n                {/* ── 红包个数 (multi only) ── */}\n                <AnimatePresence>\n                    {!isSingle && (\n                        <motion.div\n                            initial={{ opacity: 0, height: 0, marginBottom: 0 }}\n                            animate={{\n                                opacity: 1,\n                                height: 'auto',\n                                marginBottom: 24,\n                            }}\n                            exit={{ opacity: 0, height: 0, marginBottom: 0 }}\n                            transition={{ duration: 0.25 }}\n                            style={{ overflow: 'hidden' }}\n                        >\n                            <p style={labelStyle}>红包个数</p>\n                            <div\n                                style={{\n                                    background: LUCKY_COLORS.pureWhite,\n                                    borderRadius: 14,\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    padding: '8px 12px',\n                                    border: '1.5px solid rgba(0,0,0,0.05)',\n                                    boxShadow: 'var(--lm-shadow-sm)',\n                                }}\n                            >\n                                <motion.button\n                                    whileTap={{ scale: 0.9 }}\n                                    onClick={() =>\n                                        setCount(c => Math.max(1, c - 1))\n                                    }\n                                    style={{\n                                        width: 40,\n                                        height: 40,\n                                        borderRadius: 10,\n                                        background: LUCKY_COLORS.red50,\n                                        border: 'none',\n                                        fontSize: 20,\n                                        fontWeight: 700,\n                                        color:\n                                            count <= 1\n                                                ? LUCKY_COLORS.textHint\n                                                : LUCKY_COLORS.red500,\n                                        cursor:\n                                            count <= 1\n                                                ? 'not-allowed'\n                                                : 'pointer',\n                                        display: 'flex',\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                    }}\n                                >\n                                    −\n                                </motion.button>\n                                <span\n                                    style={{\n                                        flex: 1,\n                                        textAlign: 'center',\n                                        fontSize: 24,\n                                        fontWeight: 700,\n                                        color: LUCKY_COLORS.textPrimary,\n                                    }}\n                                >\n                                    {count}\n                                </span>\n                                <motion.button\n                                    whileTap={{ scale: 0.9 }}\n                                    onClick={() =>\n                                        setCount(c =>\n                                            Math.min(MAX_COUNT, c + 1),\n                                        )\n                                    }\n                                    style={{\n                                        width: 40,\n                                        height: 40,\n                                        borderRadius: 10,\n                                        background: LUCKY_COLORS.red50,\n                                        border: 'none',\n                                        fontSize: 20,\n                                        fontWeight: 700,\n                                        color:\n                                            count >= MAX_COUNT\n                                                ? LUCKY_COLORS.textHint\n                                                : LUCKY_COLORS.red500,\n                                        cursor:\n                                            count >= MAX_COUNT\n                                                ? 'not-allowed'\n                                                : 'pointer',\n                                        display: 'flex',\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                    }}\n                                >\n                                    +\n                                </motion.button>\n                            </div>\n                        </motion.div>\n                    )}\n                </AnimatePresence>\n\n                {/* ── 有效期 ── */}\n                <p style={labelStyle}>有效期</p>\n                <div style={{ display: 'flex', gap: 10, marginBottom: 24 }}>\n                    {EXPIRIES.map(e => {\n                        const active = expiry === e.hours;\n                        return (\n                            <motion.button\n                                key={e.hours}\n                                whileTap={{ scale: 0.95 }}\n                                onClick={() => setExpiry(e.hours)}\n                                style={{\n                                    flex: 1,\n                                    height: 42,\n                                    borderRadius: 21,\n                                    background: active\n                                        ? LUCKY_COLORS.red50\n                                        : LUCKY_COLORS.pureWhite,\n                                    border: active\n                                        ? `1.5px solid ${LUCKY_COLORS.red500}`\n                                        : '1.5px solid rgba(0,0,0,0.05)',\n                                    color: active\n                                        ? LUCKY_COLORS.red500\n                                        : LUCKY_COLORS.textSecondary,\n                                    fontSize: 14,\n                                    fontWeight: active ? 600 : 400,\n                                    cursor: 'pointer',\n                                    boxShadow: 'var(--lm-shadow-sm)',\n                                }}\n                            >\n                                {e.label}\n                            </motion.button>\n                        );\n                    })}\n                </div>\n\n                {/* ── 留言 ── */}\n                <p style={labelStyle}>\n                    <MessageOutlined style={{ marginRight: 6 }} />\n                    留言\n                    <span\n                        style={{\n                            fontSize: 12,\n                            fontWeight: 400,\n                            color: LUCKY_COLORS.textHint,\n                            marginLeft: 6,\n                        }}\n                    >\n                        选填\n                    </span>\n                </p>\n                <div\n                    style={{\n                        background: LUCKY_COLORS.pureWhite,\n                        borderRadius: 14,\n                        padding: '12px 16px',\n                        border: '1.5px solid rgba(0,0,0,0.05)',\n                        boxShadow: 'var(--lm-shadow-sm)',\n                        marginBottom: 8,\n                    }}\n                >\n                    <Input.TextArea\n                        placeholder=\"恭喜发财，大吉大利！\"\n                        maxLength={MAX_MESSAGE_LEN}\n                        autoSize={{ minRows: 1, maxRows: 3 }}\n                        value={blessing}\n                        onChange={e => setBlessing(e.target.value)}\n                        style={{\n                            border: 'none',\n                            background: 'transparent',\n                            fontSize: 14,\n                            resize: 'none',\n                            padding: 0,\n                        }}\n                    />\n                </div>\n                <div\n                    style={{\n                        textAlign: 'right',\n                        fontSize: 12,\n                        color: LUCKY_COLORS.textHint,\n                        marginBottom: 16,\n                    }}\n                >\n                    {blessing.length}/{MAX_MESSAGE_LEN}\n                </div>\n            </div>\n\n            {/* ── 底部按钮 ── */}\n            <div\n                style={{\n                    position: 'sticky',\n                    bottom: 0,\n                    padding: '16px 20px calc(16px + var(--lm-safe-bottom))',\n                    background: 'rgba(255, 250, 245, 0.9)',\n                    backdropFilter: 'blur(12px)',\n                    WebkitBackdropFilter: 'blur(12px)',\n                }}\n            >\n                <motion.button\n                    whileHover={{ scale: 1.02 }}\n                    whileTap={{ scale: 0.98 }}\n                    disabled={!isValid}\n                    onClick={() => setShowConfirm(true)}\n                    style={{\n                        width: '100%',\n                        height: 52,\n                        borderRadius: 26,\n                        background: isValid\n                            ? LUCKY_COLORS.gradientRedSoft\n                            : 'rgba(0,0,0,0.04)',\n                        border: 'none',\n                        color: isValid ? '#FFFFFF' : LUCKY_COLORS.textHint,\n                        fontSize: 16,\n                        fontWeight: 700,\n                        cursor: isValid ? 'pointer' : 'not-allowed',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        gap: 8,\n                        letterSpacing: 2,\n                        boxShadow: isValid\n                            ? '0 6px 24px rgba(212, 56, 13, 0.2)'\n                            : 'none',\n                    }}\n                >\n                    <GiftOutlined />\n                    塞钱进红包\n                </motion.button>\n            </div>\n\n            {/* ── 确认弹窗 ── */}\n            <Modal\n                open={showConfirm}\n                onCancel={() => setShowConfirm(false)}\n                footer={null}\n                closable={false}\n                centered\n                width={340}\n            >\n                <div\n                    style={{\n                        background: LUCKY_COLORS.pureWhite,\n                        borderRadius: 20,\n                        padding: '32px 24px 24px',\n                        textAlign: 'center',\n                    }}\n                >\n                    <div\n                        style={{\n                            width: 56,\n                            height: 56,\n                            borderRadius: '50%',\n                            background: 'rgba(250, 173, 20, 0.1)',\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            margin: '0 auto 16px',\n                        }}\n                    >\n                        <ExclamationCircleOutlined\n                            style={{\n                                fontSize: 28,\n                                color: LUCKY_COLORS.gold500,\n                            }}\n                        />\n                    </div>\n                    <h3\n                        style={{\n                            fontSize: 18,\n                            fontWeight: 700,\n                            color: LUCKY_COLORS.textPrimary,\n                            margin: '0 0 8px',\n                        }}\n                    >\n                        确认发红包\n                    </h3>\n                    <p\n                        style={{\n                            fontSize: 14,\n                            color: LUCKY_COLORS.textSecondary,\n                            margin: '0 0 6px',\n                            lineHeight: 1.6,\n                        }}\n                    >\n                        {confirmText}\n                    </p>\n\n                    {/* 留言预览 */}\n                    {blessing && (\n                        <div\n                            style={{\n                                margin: '8px 0 16px',\n                                padding: '8px 14px',\n                                borderRadius: 10,\n                                background: 'rgba(250, 173, 20, 0.06)',\n                                fontSize: 13,\n                                color: LUCKY_COLORS.textSecondary,\n                                fontStyle: 'italic',\n                            }}\n                        >\n                            \"{blessing}\"\n                        </div>\n                    )}\n\n                    {!blessing && <div style={{ height: 16 }} />}\n\n                    <div style={{ display: 'flex', gap: 12 }}>\n                        <motion.button\n                            whileTap={{ scale: 0.96 }}\n                            onClick={() => setShowConfirm(false)}\n                            style={{\n                                flex: 1,\n                                height: 44,\n                                borderRadius: 22,\n                                background: 'rgba(0,0,0,0.04)',\n                                border: 'none',\n                                color: LUCKY_COLORS.textSecondary,\n                                fontSize: 15,\n                                fontWeight: 500,\n                                cursor: 'pointer',\n                            }}\n                        >\n                            取消\n                        </motion.button>\n                        <motion.button\n                            whileTap={{ scale: 0.96 }}\n                            onClick={handleCreate}\n                            style={{\n                                flex: 1,\n                                height: 44,\n                                borderRadius: 22,\n                                background: LUCKY_COLORS.gradientRedSoft,\n                                border: 'none',\n                                color: '#FFFFFF',\n                                fontSize: 15,\n                                fontWeight: 600,\n                                cursor: 'pointer',\n                                boxShadow:\n                                    '0 4px 16px rgba(212, 56, 13, 0.2)',\n                            }}\n                        >\n                            确认发送\n                        </motion.button>\n                    </div>\n                </div>\n            </Modal>\n        </PageContainer>\n    );\n}\n"],"names":["PageContainer","param","children","RedHeader","title","showBack","showWallet","navigate","useNavigate","motion","LeftOutlined","ConnectButton","STABLE_LAYER_NETWORK","USDC_TYPE","BTC_USDC_TYPE","LUCKY_MONEY_PACKAGE_ID","LUCKY_MONEY_REGISTRY_ID","isLuckyMoneyConfigReady","parseTypeArgument","fullType","match","getCoinSymbolFromType","coinType","parts","encoder","TextEncoder","randomBytes","size","_globalThis_crypto","Error","bytes","Uint8Array","globalThis","sha256Bytes","input","normalized","bytesToHex","Array","b","LoadingOverlay","visible","text","AnimatePresence","Number","LUCKY_COLORS","GiftOutlined","ENVELOPE_TYPES","UserOutlined","TeamOutlined","ThunderboltOutlined","EXPIRIES","QUICK_AMOUNTS","ENVELOPE_MODE","sleep","ms","Promise","resolve","setTimeout","formatUsdc","amount","CreatePage","account","useCurrentAccount","suiClient","useSuiClient","signAndExecute","useSignAndExecuteTransaction","isLoading","setIsLoading","useState","loadingText","setLoadingText","type","setType","setAmount","count","setCount","expiry","setExpiry","blessing","setBlessing","showConfirm","setShowConfirm","isSingle","effectiveCount","validation","useMemo","perPerson","isValid","perPersonHint","per","amountLabel","confirmText","labelStyle","handleCreate","message","tx","Transaction","sdk","StableLayerClient","amountBigInt","BigInt","Math","walletChains","chain","usdcBalanceResp","usdcBalance","secret","secretCommitment","secretHex","expireAtMs","Date","btcUsdcCoin","coinWithBalance","SUI_CLOCK_OBJECT_ID","result","console","txResult","i","_txResult_events","_txResult_objectChanges","luckyMoneyId","extractLuckyMoneyId","_createdEvent_parsedJson","createdObject","change","createdEvent","evt","eventId","params","URLSearchParams","String","resolveError","error","e","t","active","newType","qa","InputNumber","v","c","MessageOutlined","Input","Modal","ExclamationCircleOutlined"],"mappings":"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"}