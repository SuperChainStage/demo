{"version":3,"file":"static/js/async/claim/(id)/page.ad43bad0.js","sources":["../../../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/StarOutlined.js","../../../../node_modules/.pnpm/@ant-design+icons@5.6.1_react-dom@19.2.4_react@19.2.4/node_modules/@ant-design/icons/es/icons/StarOutlined.js","../../../../../src/components/PageContainer.tsx","../../../../../../src/config/luckyMoney.ts","../../../../../../src/lib/crypto.ts","../../../../../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/SmileOutlined.js","../../../../../../node_modules/.pnpm/@ant-design+icons@5.6.1_react-dom@19.2.4_react@19.2.4/node_modules/@ant-design/icons/es/icons/SmileOutlined.js","../../../../../../node_modules/.pnpm/@ant-design+icons-svg@4.4.2/node_modules/@ant-design/icons-svg/es/asn/FrownOutlined.js","../../../../../../node_modules/.pnpm/@ant-design+icons@5.6.1_react-dom@19.2.4_react@19.2.4/node_modules/@ant-design/icons/es/icons/FrownOutlined.js","../../../../../../src/components/EnvelopeOpenAnimation.tsx","../../../../../../src/components/StarBottleAnimation.tsx","../../../../../../src/routes/claim/[id]/page.tsx"],"sourcesContent":["// This icon file is generated automatically.\nvar StarOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z\" } }] }, \"name\": \"star\", \"theme\": \"outlined\" };\nexport default StarOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport StarOutlinedSvg from \"@ant-design/icons-svg/es/asn/StarOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar StarOutlined = function StarOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: StarOutlinedSvg\n  }));\n};\n\n/**![star](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTkwOC4xIDM1My4xbC0yNTMuOS0zNi45TDU0MC43IDg2LjFjLTMuMS02LjMtOC4yLTExLjQtMTQuNS0xNC41LTE1LjgtNy44LTM1LTEuMy00Mi45IDE0LjVMMzY5LjggMzE2LjJsLTI1My45IDM2LjljLTcgMS0xMy40IDQuMy0xOC4zIDkuM2EzMi4wNSAzMi4wNSAwIDAwLjYgNDUuM2wxODMuNyAxNzkuMS00My40IDI1Mi45YTMxLjk1IDMxLjk1IDAgMDA0Ni40IDMzLjdMNTEyIDc1NGwyMjcuMSAxMTkuNGM2LjIgMy4zIDEzLjQgNC40IDIwLjMgMy4yIDE3LjQtMyAyOS4xLTE5LjUgMjYuMS0zNi45bC00My40LTI1Mi45IDE4My43LTE3OS4xYzUtNC45IDguMy0xMS4zIDkuMy0xOC4zIDIuNy0xNy41LTkuNS0zMy43LTI3LTM2LjN6TTY2NC44IDU2MS42bDM2LjEgMjEwLjNMNTEyIDY3Mi43IDMyMy4xIDc3MmwzNi4xLTIxMC4zLTE1Mi44LTE0OUw0MTcuNiAzODIgNTEyIDE5MC43IDYwNi40IDM4MmwyMTEuMiAzMC43LTE1Mi44IDE0OC45eiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(StarOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'StarOutlined';\n}\nexport default RefIcon;","import React, { type ReactNode } from 'react';\n\ninterface PageContainerProps {\n    children: ReactNode;\n}\n\n/**\n * 页面容器 — 统一暖白背景 + 安全区适配\n */\nexport default function PageContainer({ children }: PageContainerProps) {\n    return (\n        <div\n            style={{\n                width: '100%',\n                maxWidth: 430,\n                margin: '0 auto',\n                minHeight: '100%',\n                background: 'var(--lm-bg-primary)',\n                position: 'relative',\n            }}\n        >\n            {children}\n        </div>\n    );\n}\n","export const STABLE_LAYER_NETWORK = 'mainnet' as const;\n\nexport const USDC_TYPE =\n    '0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC';\nexport const BTC_USDC_TYPE =\n    '0x6d9fc33611f4881a3f5c0cd4899d95a862236ce52b3a38fef039077b0c5b5834::btc_usdc::BtcUSDC';\n\nexport const LUCKY_MONEY_PACKAGE_ID =\n    '0xbb6828ba12f04b843647d013601f166dec59dcfd061e8230dd59977892dd4f46';\nexport const LUCKY_MONEY_REGISTRY_ID =\n    '0xec0b205973baa7b6bea59967ac8c734a5b2b4defb34a262dff6507c3457d5e6f';\n\nexport const SUI_CLOCK_OBJECT_ID = '0x6';\nexport const SUI_RANDOM_OBJECT_ID = '0x8';\n\nexport const BTC_USDC_DECIMALS = 6;\n\nexport const isPlaceholderObjectId = (value: string) => /^0x0+$/i.test(value);\n\nexport const isLuckyMoneyConfigReady = () =>\n    !isPlaceholderObjectId(LUCKY_MONEY_PACKAGE_ID) &&\n    !isPlaceholderObjectId(LUCKY_MONEY_REGISTRY_ID);\n\nexport const parseTypeArgument = (fullType: string) => {\n    const match = fullType.match(/<(.+)>/);\n    return match?.[1] ?? null;\n};\n\nexport const getCoinSymbolFromType = (coinType: string) => {\n    const parts = coinType.split('::');\n    return parts[parts.length - 1] || coinType;\n};\n","const encoder = new TextEncoder();\n\nexport const randomBytes = (size: number) => {\n    if (!globalThis.crypto?.getRandomValues) {\n        throw new Error('当前环境不支持 Web Crypto，无法生成随机数');\n    }\n    const bytes = new Uint8Array(size);\n    globalThis.crypto.getRandomValues(bytes);\n    return bytes;\n};\n\nexport const sha256Bytes = async (input: Uint8Array | string) => {\n    if (!globalThis.crypto?.subtle) {\n        throw new Error('当前环境不支持 Web Crypto，无法计算哈希');\n    }\n    const normalized = typeof input === 'string' ? encoder.encode(input) : input;\n    const digest = await globalThis.crypto.subtle.digest('SHA-256', normalized);\n    return new Uint8Array(digest);\n};\n\nexport const bytesToHex = (bytes: Uint8Array) =>\n    Array.from(bytes)\n        .map(b => b.toString(16).padStart(2, '0'))\n        .join('');\n\nexport const hexToBytes = (hex: string) => {\n    let normalized = hex.trim().toLowerCase();\n    if (normalized.startsWith('0x')) normalized = normalized.slice(2);\n    if (normalized.length === 0 || normalized.length % 2 !== 0) {\n        throw new Error('无效的十六进制字符串');\n    }\n    if (!/^[0-9a-f]+$/.test(normalized)) {\n        throw new Error('十六进制字符串包含非法字符');\n    }\n    const bytes = new Uint8Array(normalized.length / 2);\n    for (let i = 0; i < normalized.length; i += 2) {\n        bytes[i / 2] = Number.parseInt(normalized.slice(i, i + 2), 16);\n    }\n    return bytes;\n};\n","// This icon file is generated automatically.\nvar SmileOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z\" } }] }, \"name\": \"smile\", \"theme\": \"outlined\" };\nexport default SmileOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport SmileOutlinedSvg from \"@ant-design/icons-svg/es/asn/SmileOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar SmileOutlined = function SmileOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: SmileOutlinedSvg\n  }));\n};\n\n/**![smile](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTI4OCA0MjFhNDggNDggMCAxMDk2IDAgNDggNDggMCAxMC05NiAwem0zNTIgMGE0OCA0OCAwIDEwOTYgMCA0OCA0OCAwIDEwLTk2IDB6TTUxMiA2NEMyNjQuNiA2NCA2NCAyNjQuNiA2NCA1MTJzMjAwLjYgNDQ4IDQ0OCA0NDggNDQ4LTIwMC42IDQ0OC00NDhTNzU5LjQgNjQgNTEyIDY0em0yNjMgNzExYy0zNC4yIDM0LjItNzQgNjEtMTE4LjMgNzkuOEM2MTEgODc0LjIgNTYyLjMgODg0IDUxMiA4ODRjLTUwLjMgMC05OS05LjgtMTQ0LjgtMjkuMkEzNzAuNCAzNzAuNCAwIDAxMjQ4LjkgNzc1Yy0zNC4yLTM0LjItNjEtNzQtNzkuOC0xMTguM0MxNDkuOCA2MTEgMTQwIDU2Mi4zIDE0MCA1MTJzOS44LTk5IDI5LjItMTQ0LjhBMzcwLjQgMzcwLjQgMCAwMTI0OSAyNDguOWMzNC4yLTM0LjIgNzQtNjEgMTE4LjMtNzkuOEM0MTMgMTQ5LjggNDYxLjcgMTQwIDUxMiAxNDBjNTAuMyAwIDk5IDkuOCAxNDQuOCAyOS4yQTM3MC40IDM3MC40IDAgMDE3NzUuMSAyNDljMzQuMiAzNC4yIDYxIDc0IDc5LjggMTE4LjNDODc0LjIgNDEzIDg4NCA0NjEuNyA4ODQgNTEycy05LjggOTktMjkuMiAxNDQuOEEzNjguODkgMzY4Ljg5IDAgMDE3NzUgNzc1ek02NjQgNTMzaC00OC4xYy00LjIgMC03LjggMy4yLTguMSA3LjRDNjA0IDU4OS45IDU2Mi41IDYyOSA1MTIgNjI5cy05Mi4xLTM5LjEtOTUuOC04OC42Yy0uMy00LjItMy45LTcuNC04LjEtNy40SDM2MGE4IDggMCAwMC04IDguNGM0LjQgODQuMyA3NC41IDE1MS42IDE2MCAxNTEuNnMxNTUuNi02Ny4zIDE2MC0xNTEuNmE4IDggMCAwMC04LTguNHoiIC8+PC9zdmc+) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(SmileOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'SmileOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar FrownOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM512 533c-85.5 0-155.6 67.3-160 151.6a8 8 0 008 8.4h48.1c4.2 0 7.8-3.2 8.1-7.4C420 636.1 461.5 597 512 597s92.1 39.1 95.8 88.6c.3 4.2 3.9 7.4 8.1 7.4H664a8 8 0 008-8.4C667.6 600.3 597.5 533 512 533z\" } }] }, \"name\": \"frown\", \"theme\": \"outlined\" };\nexport default FrownOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport FrownOutlinedSvg from \"@ant-design/icons-svg/es/asn/FrownOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar FrownOutlined = function FrownOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: FrownOutlinedSvg\n  }));\n};\n\n/**![frown](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTI4OCA0MjFhNDggNDggMCAxMDk2IDAgNDggNDggMCAxMC05NiAwem0zNTIgMGE0OCA0OCAwIDEwOTYgMCA0OCA0OCAwIDEwLTk2IDB6TTUxMiA2NEMyNjQuNiA2NCA2NCAyNjQuNiA2NCA1MTJzMjAwLjYgNDQ4IDQ0OCA0NDggNDQ4LTIwMC42IDQ0OC00NDhTNzU5LjQgNjQgNTEyIDY0em0yNjMgNzExYy0zNC4yIDM0LjItNzQgNjEtMTE4LjMgNzkuOEM2MTEgODc0LjIgNTYyLjMgODg0IDUxMiA4ODRjLTUwLjMgMC05OS05LjgtMTQ0LjgtMjkuMkEzNzAuNCAzNzAuNCAwIDAxMjQ4LjkgNzc1Yy0zNC4yLTM0LjItNjEtNzQtNzkuOC0xMTguM0MxNDkuOCA2MTEgMTQwIDU2Mi4zIDE0MCA1MTJzOS44LTk5IDI5LjItMTQ0LjhBMzcwLjQgMzcwLjQgMCAwMTI0OSAyNDguOWMzNC4yLTM0LjIgNzQtNjEgMTE4LjMtNzkuOEM0MTMgMTQ5LjggNDYxLjcgMTQwIDUxMiAxNDBjNTAuMyAwIDk5IDkuOCAxNDQuOCAyOS4yQTM3MC40IDM3MC40IDAgMDE3NzUuMSAyNDljMzQuMiAzNC4yIDYxIDc0IDc5LjggMTE4LjNDODc0LjIgNDEzIDg4NCA0NjEuNyA4ODQgNTEycy05LjggOTktMjkuMiAxNDQuOEEzNjguODkgMzY4Ljg5IDAgMDE3NzUgNzc1ek01MTIgNTMzYy04NS41IDAtMTU1LjYgNjcuMy0xNjAgMTUxLjZhOCA4IDAgMDA4IDguNGg0OC4xYzQuMiAwIDcuOC0zLjIgOC4xLTcuNEM0MjAgNjM2LjEgNDYxLjUgNTk3IDUxMiA1OTdzOTIuMSAzOS4xIDk1LjggODguNmMuMyA0LjIgMy45IDcuNCA4LjEgNy40SDY2NGE4IDggMCAwMDgtOC40QzY2Ny42IDYwMC4zIDU5Ny41IDUzMyA1MTIgNTMzeiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(FrownOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'FrownOutlined';\n}\nexport default RefIcon;","import React from 'react';\nimport { motion } from 'framer-motion';\nimport { LUCKY_COLORS } from '../theme/themeConfig';\n\ninterface EnvelopeOpenAnimationProps {\n    onOpen: () => void;\n}\n\n/**\n * 红包开启动画 — 暖色喜庆风格\n */\nexport default function EnvelopeOpenAnimation({ onOpen }: EnvelopeOpenAnimationProps) {\n    return (\n        <div\n            style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'center',\n                padding: '20px 0',\n            }}\n        >\n            {/* 红包主体 */}\n            <motion.div\n                initial={{ scale: 0.8, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                transition={{ type: 'spring', stiffness: 200, damping: 15 }}\n                style={{\n                    width: 240,\n                    height: 320,\n                    borderRadius: 20,\n                    background: LUCKY_COLORS.gradientRedDown,\n                    position: 'relative',\n                    display: 'flex',\n                    flexDirection: 'column',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    boxShadow: '0 12px 48px rgba(212, 56, 13, 0.25)',\n                    overflow: 'hidden',\n                }}\n            >\n                {/* 装饰线 — 信封折线 */}\n                <div\n                    style={{\n                        position: 'absolute',\n                        top: '38%',\n                        left: 0,\n                        right: 0,\n                        height: 2,\n                        background: 'linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.4), transparent)',\n                    }}\n                />\n\n                {/* 上部暗红 */}\n                <div\n                    style={{\n                        position: 'absolute',\n                        top: 0,\n                        left: 0,\n                        right: 0,\n                        height: '40%',\n                        background: 'rgba(0, 0, 0, 0.1)',\n                        borderRadius: '20px 20px 0 0',\n                    }}\n                />\n\n                {/* 金色圆按钮 */}\n                <motion.button\n                    whileHover={{ scale: 1.1 }}\n                    whileTap={{ scale: 0.95 }}\n                    onClick={onOpen}\n                    style={{\n                        width: 80,\n                        height: 80,\n                        borderRadius: '50%',\n                        background: LUCKY_COLORS.gradientGold,\n                        border: '3px solid rgba(255, 255, 255, 0.4)',\n                        cursor: 'pointer',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        position: 'relative',\n                        zIndex: 10,\n                        boxShadow: '0 4px 20px rgba(250, 173, 20, 0.4)',\n                    }}\n                >\n                    <span\n                        style={{\n                            fontSize: 32,\n                            fontWeight: 900,\n                            color: '#A8071A',\n                        }}\n                    >\n                        開\n                    </span>\n                </motion.button>\n\n                {/* 点击提示 */}\n                <motion.p\n                    animate={{ opacity: [0.5, 1, 0.5] }}\n                    transition={{ repeat: Infinity, duration: 2 }}\n                    style={{\n                        color: 'rgba(255, 255, 255, 0.7)',\n                        fontSize: 13,\n                        fontWeight: 500,\n                        marginTop: 14,\n                        letterSpacing: 2,\n                        position: 'relative',\n                        zIndex: 10,\n                    }}\n                >\n                    点击开启\n                </motion.p>\n\n                {/* 底部金色装饰 */}\n                <div\n                    style={{\n                        position: 'absolute',\n                        bottom: 16,\n                        display: 'flex',\n                        gap: 4,\n                    }}\n                >\n                    {[...Array(3)].map((_, i) => (\n                        <div\n                            key={i}\n                            style={{\n                                width: 4,\n                                height: 4,\n                                borderRadius: '50%',\n                                background: 'rgba(255, 215, 0, 0.5)',\n                            }}\n                        />\n                    ))}\n                </div>\n            </motion.div>\n        </div>\n    );\n}\n","import React, { useEffect, useState, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\ninterface StarBottleProps {\n    visible: boolean;\n    amount: number;\n    totalSaved: number;\n    onClose: () => void;\n}\n\nconst rand = (min: number, max: number) => Math.random() * (max - min) + min;\n\ninterface Star {\n    id: number;\n    startX: number;\n    startY: number;\n    delay: number;\n    size: number;\n    rotation: number;\n}\n\ninterface Sparkle {\n    id: number;\n    x: number;\n    y: number;\n    delay: number;\n    size: number;\n    duration: number;\n}\n\ninterface GoldParticle {\n    id: number;\n    x: number;\n    size: number;\n    delay: number;\n    drift: number;\n}\n\nexport default function StarBottleAnimation({\n    visible,\n    amount,\n    totalSaved,\n    onClose,\n}: StarBottleProps) {\n    const [phase, setPhase] = useState<'idle' | 'stars' | 'glow' | 'done'>(\n        'idle',\n    );\n    const [displayAmount, setDisplayAmount] = useState(0);\n\n    // 18 stars for more density\n    const stars: Star[] = useMemo(\n        () =>\n            Array.from({ length: 18 }, (_, i) => ({\n                id: i,\n                startX: rand(-160, 160),\n                startY: rand(-340, -200),\n                delay: rand(0.05, 0.7),\n                size: rand(16, 30),\n                rotation: rand(-360, 360),\n            })),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [visible],\n    );\n\n    // Background sparkle particles\n    const sparkles: Sparkle[] = useMemo(\n        () =>\n            Array.from({ length: 24 }, (_, i) => ({\n                id: i,\n                x: rand(-180, 180),\n                y: rand(-280, 200),\n                delay: rand(0.2, 1.6),\n                size: rand(2, 6),\n                duration: rand(0.6, 1.2),\n            })),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [visible],\n    );\n\n    // Gold particles floating up inside the bottle\n    const goldParticles: GoldParticle[] = useMemo(\n        () =>\n            Array.from({ length: 8 }, (_, i) => ({\n                id: i,\n                x: rand(-30, 30),\n                size: rand(3, 7),\n                delay: rand(0.3, 1.5),\n                drift: rand(-10, 10),\n            })),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [visible],\n    );\n\n    useEffect(() => {\n        if (!visible) {\n            setPhase('idle');\n            setDisplayAmount(0);\n            return;\n        }\n        setPhase('stars');\n        const t1 = setTimeout(() => setPhase('glow'), 1200);\n        const t2 = setTimeout(() => setPhase('done'), 1800);\n        const t3 = setTimeout(() => onClose(), 4500);\n        return () => {\n            clearTimeout(t1);\n            clearTimeout(t2);\n            clearTimeout(t3);\n        };\n    }, [visible, onClose]);\n\n    // count-up\n    useEffect(() => {\n        if (phase !== 'glow' && phase !== 'done') return;\n        const start = totalSaved - amount;\n        const end = totalSaved;\n        const duration = 800;\n        const stepTime = 25;\n        const steps = duration / stepTime;\n        const increment = (end - start) / steps;\n        let current = start;\n        const iv = setInterval(() => {\n            current += increment;\n            if (current >= end) {\n                current = end;\n                clearInterval(iv);\n            }\n            setDisplayAmount(Number(current.toFixed(2)));\n        }, stepTime);\n        return () => clearInterval(iv);\n    }, [phase, totalSaved, amount]);\n\n    return (\n        <AnimatePresence>\n            {visible && (\n                <motion.div\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    exit={{ opacity: 0 }}\n                    transition={{ duration: 0.3 }}\n                    onClick={onClose}\n                    style={{\n                        position: 'fixed',\n                        inset: 0,\n                        zIndex: 9999,\n                        display: 'flex',\n                        flexDirection: 'column',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        background:\n                            'radial-gradient(ellipse at center, rgba(30,20,10,0.85) 0%, rgba(0,0,0,0.9) 100%)',\n                        backdropFilter: 'blur(12px)',\n                        WebkitBackdropFilter: 'blur(12px)',\n                    }}\n                >\n                    {/* Background sparkles */}\n                    {sparkles.map(sp => (\n                        <motion.div\n                            key={`sp-${sp.id}`}\n                            initial={{ opacity: 0, scale: 0 }}\n                            animate={{\n                                opacity: [0, 1, 0],\n                                scale: [0, 1, 0],\n                            }}\n                            transition={{\n                                duration: sp.duration,\n                                delay: sp.delay,\n                                repeat: 2,\n                                repeatDelay: rand(0.3, 0.8),\n                            }}\n                            style={{\n                                position: 'absolute',\n                                top: '50%',\n                                left: '50%',\n                                width: sp.size,\n                                height: sp.size,\n                                borderRadius: '50%',\n                                background: '#FFD700',\n                                boxShadow: `0 0 ${sp.size * 2}px ${sp.size}px rgba(255,215,0,0.4)`,\n                                transform: `translate(calc(-50% + ${sp.x}px), calc(-50% + ${sp.y}px))`,\n                                pointerEvents: 'none',\n                            }}\n                        />\n                    ))}\n\n                    {/* Bottle */}\n                    <motion.div\n                        initial={{ y: 80, scale: 0.5, opacity: 0 }}\n                        animate={{ y: 0, scale: 1, opacity: 1 }}\n                        transition={{\n                            type: 'spring',\n                            stiffness: 180,\n                            damping: 16,\n                        }}\n                        style={{\n                            position: 'relative',\n                            width: 140,\n                            height: 200,\n                            marginBottom: 24,\n                        }}\n                    >\n                        {/* Bottle body — glass */}\n                        <div\n                            style={{\n                                position: 'absolute',\n                                bottom: 0,\n                                left: '50%',\n                                transform: 'translateX(-50%)',\n                                width: 110,\n                                height: 150,\n                                borderRadius: '18px 18px 44px 44px',\n                                background:\n                                    'linear-gradient(135deg, rgba(255,255,255,0.22) 0%, rgba(255,255,255,0.06) 100%)',\n                                border: '1.5px solid rgba(255,255,255,0.25)',\n                                boxShadow:\n                                    'inset 0 0 24px rgba(255,255,255,0.08), 0 10px 40px rgba(0,0,0,0.3)',\n                                overflow: 'hidden',\n                            }}\n                        >\n                            {/* Glass highlight left */}\n                            <div\n                                style={{\n                                    position: 'absolute',\n                                    top: 14,\n                                    left: 12,\n                                    width: 6,\n                                    height: 55,\n                                    borderRadius: 3,\n                                    background:\n                                        'linear-gradient(180deg, rgba(255,255,255,0.45) 0%, rgba(255,255,255,0) 100%)',\n                                }}\n                            />\n                            {/* Glass highlight right */}\n                            <div\n                                style={{\n                                    position: 'absolute',\n                                    top: 20,\n                                    right: 14,\n                                    width: 4,\n                                    height: 30,\n                                    borderRadius: 2,\n                                    background:\n                                        'linear-gradient(180deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 100%)',\n                                }}\n                            />\n\n                            {/* ✨ Gold shimmer fill — the KEY visual */}\n                            <motion.div\n                                initial={{ height: 0 }}\n                                animate={\n                                    phase === 'glow' || phase === 'done'\n                                        ? { height: '35%' }\n                                        : { height: 0 }\n                                }\n                                transition={{ duration: 1.0, ease: 'easeOut' }}\n                                style={{\n                                    position: 'absolute',\n                                    bottom: 0,\n                                    left: 0,\n                                    right: 0,\n                                    background:\n                                        'linear-gradient(0deg, #FFD700 0%, #FFAA00 40%, rgba(255,215,0,0.5) 80%, rgba(255,215,0,0.15) 100%)',\n                                    borderRadius: '0 0 42px 42px',\n                                    overflow: 'hidden',\n                                }}\n                            >\n                                {/* Shimmer wave animation */}\n                                <motion.div\n                                    animate={{\n                                        x: [-60, 60, -60],\n                                        opacity: [0.3, 0.6, 0.3],\n                                    }}\n                                    transition={{\n                                        duration: 2,\n                                        repeat: Infinity,\n                                        ease: 'easeInOut',\n                                    }}\n                                    style={{\n                                        position: 'absolute',\n                                        inset: 0,\n                                        background:\n                                            'linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%)',\n                                    }}\n                                />\n                                {/* Gold bubbles floating up */}\n                                {goldParticles.map(gp => (\n                                    <motion.div\n                                        key={`gp-${gp.id}`}\n                                        initial={{\n                                            y: 0,\n                                            x: gp.x,\n                                            opacity: 0,\n                                        }}\n                                        animate={{\n                                            y: -60,\n                                            x: gp.x + gp.drift,\n                                            opacity: [0, 0.8, 0],\n                                        }}\n                                        transition={{\n                                            duration: 1.5,\n                                            delay: gp.delay + 1.2,\n                                            repeat: Infinity,\n                                            repeatDelay: rand(0.5, 1.5),\n                                        }}\n                                        style={{\n                                            position: 'absolute',\n                                            bottom: 4,\n                                            left: '50%',\n                                            width: gp.size,\n                                            height: gp.size,\n                                            borderRadius: '50%',\n                                            background:\n                                                'radial-gradient(circle, rgba(255,255,255,0.9) 0%, rgba(255,215,0,0.6) 100%)',\n                                            boxShadow:\n                                                '0 0 4px rgba(255,215,0,0.5)',\n                                            pointerEvents: 'none',\n                                        }}\n                                    />\n                                ))}\n                            </motion.div>\n                        </div>\n\n                        {/* Bottle neck */}\n                        <div\n                            style={{\n                                position: 'absolute',\n                                top: 0,\n                                left: '50%',\n                                transform: 'translateX(-50%)',\n                                width: 42,\n                                height: 55,\n                                borderRadius: '10px 10px 0 0',\n                                background:\n                                    'linear-gradient(135deg, rgba(255,255,255,0.18) 0%, rgba(255,255,255,0.04) 100%)',\n                                border: '1.5px solid rgba(255,255,255,0.25)',\n                                borderBottom: 'none',\n                            }}\n                        />\n\n                        {/* Cork — warm golden */}\n                        <div\n                            style={{\n                                position: 'absolute',\n                                top: -10,\n                                left: '50%',\n                                transform: 'translateX(-50%)',\n                                width: 52,\n                                height: 18,\n                                borderRadius: 9,\n                                background:\n                                    'linear-gradient(180deg, #D4A04A 0%, #B8862D 100%)',\n                                boxShadow:\n                                    '0 3px 10px rgba(0,0,0,0.4), inset 0 1px 2px rgba(255,255,255,0.2)',\n                            }}\n                        />\n\n                        {/* Stars flying in — 18 stars with trails */}\n                        {stars.map(star => (\n                            <motion.div\n                                key={star.id}\n                                initial={{\n                                    x: star.startX,\n                                    y: star.startY,\n                                    scale: 1.4,\n                                    opacity: 0,\n                                    rotate: star.rotation,\n                                }}\n                                animate={{\n                                    x: 0,\n                                    y: 30,\n                                    scale: [1.4, 1.0, 0.3],\n                                    opacity: [0, 1, 1, 0.7, 0],\n                                    rotate: 0,\n                                }}\n                                transition={{\n                                    duration: 0.9,\n                                    delay: star.delay,\n                                    ease: [0.22, 1, 0.36, 1],\n                                }}\n                                style={{\n                                    position: 'absolute',\n                                    top: '50%',\n                                    left: '50%',\n                                    transform: 'translate(-50%,-50%)',\n                                    fontSize: star.size,\n                                    pointerEvents: 'none',\n                                    zIndex: 10,\n                                    filter: 'drop-shadow(0 0 6px rgba(255,215,0,0.6))',\n                                }}\n                            >\n                                ⭐\n                            </motion.div>\n                        ))}\n\n                        {/* Impact glow when stars arrive */}\n                        <AnimatePresence>\n                            {(phase === 'glow' || phase === 'done') && (\n                                <>\n                                    {/* Inner gold glow */}\n                                    <motion.div\n                                        initial={{ opacity: 0, scale: 0.5 }}\n                                        animate={{\n                                            opacity: [0, 0.9, 0.4, 0.6],\n                                            scale: [0.5, 1.4, 1.1, 1.2],\n                                        }}\n                                        transition={{\n                                            duration: 1.5,\n                                            repeat: Infinity,\n                                            repeatType: 'reverse',\n                                            repeatDelay: 0.5,\n                                        }}\n                                        style={{\n                                            position: 'absolute',\n                                            inset: -40,\n                                            borderRadius: '50%',\n                                            background:\n                                                'radial-gradient(circle, rgba(255,215,0,0.35) 0%, rgba(255,170,0,0.1) 50%, transparent 75%)',\n                                            pointerEvents: 'none',\n                                        }}\n                                    />\n                                    {/* Outer warm halo */}\n                                    <motion.div\n                                        initial={{ opacity: 0, scale: 0.8 }}\n                                        animate={{\n                                            opacity: [0, 0.5, 0.2],\n                                            scale: [0.8, 1.6, 1.3],\n                                        }}\n                                        transition={{ duration: 1.8 }}\n                                        style={{\n                                            position: 'absolute',\n                                            inset: -60,\n                                            borderRadius: '50%',\n                                            background:\n                                                'radial-gradient(circle, rgba(255,215,0,0.15) 0%, transparent 70%)',\n                                            pointerEvents: 'none',\n                                        }}\n                                    />\n                                </>\n                            )}\n                        </AnimatePresence>\n                    </motion.div>\n\n                    {/* Amount text */}\n                    <AnimatePresence>\n                        {(phase === 'glow' || phase === 'done') && (\n                            <motion.div\n                                initial={{ opacity: 0, y: 20 }}\n                                animate={{ opacity: 1, y: 0 }}\n                                transition={{ delay: 0.15 }}\n                                style={{ textAlign: 'center' }}\n                            >\n                                <p\n                                    style={{\n                                        fontSize: 14,\n                                        color: 'rgba(255,255,255,0.65)',\n                                        margin: '0 0 6px',\n                                        letterSpacing: 2,\n                                    }}\n                                >\n                                    已转入心愿单\n                                </p>\n                                <p\n                                    style={{\n                                        fontSize: 40,\n                                        fontWeight: 900,\n                                        color: '#FFD700',\n                                        margin: '0 0 6px',\n                                        textShadow:\n                                            '0 0 20px rgba(255,215,0,0.5), 0 2px 12px rgba(255,170,0,0.3)',\n                                        letterSpacing: -1,\n                                    }}\n                                >\n                                    +{amount.toFixed(2)}\n                                </p>\n                                <p\n                                    style={{\n                                        fontSize: 14,\n                                        color: 'rgba(255,255,255,0.4)',\n                                        margin: 0,\n                                    }}\n                                >\n                                    心愿存钱罐：{displayAmount.toFixed(2)} USDC\n                                </p>\n                            </motion.div>\n                        )}\n                    </AnimatePresence>\n\n                    {/* Tap to close hint */}\n                    {phase === 'done' && (\n                        <motion.p\n                            initial={{ opacity: 0 }}\n                            animate={{ opacity: 0.4 }}\n                            transition={{ delay: 0.6 }}\n                            style={{\n                                position: 'absolute',\n                                bottom: 60,\n                                fontSize: 12,\n                                color: 'rgba(255,255,255,0.35)',\n                            }}\n                        >\n                            点击任意处关闭\n                        </motion.p>\n                    )}\n                </motion.div>\n            )}\n        </AnimatePresence>\n    );\n}\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate, useParams } from '@modern-js/runtime/router';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n    GiftOutlined,\n    SmileOutlined,\n    FrownOutlined,\n    StarOutlined,\n} from '@ant-design/icons';\nimport { message } from 'antd';\nimport {\n    ConnectButton,\n    useCurrentAccount,\n    useSignAndExecuteTransaction,\n    useSuiClient,\n} from '@mysten/dapp-kit';\nimport { Transaction } from '@mysten/sui/transactions';\nimport PageContainer from '../../../components/PageContainer';\nimport EnvelopeOpenAnimation from '../../../components/EnvelopeOpenAnimation';\nimport StarBottleAnimation from '../../../components/StarBottleAnimation';\nimport { LUCKY_COLORS } from '../../../theme/themeConfig';\nimport {\n    BTC_USDC_DECIMALS,\n    LUCKY_MONEY_PACKAGE_ID,\n    LUCKY_MONEY_REGISTRY_ID,\n    SUI_CLOCK_OBJECT_ID,\n    SUI_RANDOM_OBJECT_ID,\n    getCoinSymbolFromType,\n    isLuckyMoneyConfigReady,\n    parseTypeArgument,\n} from '../../../config/luckyMoney';\nimport { sha256Bytes } from '../../../lib/crypto';\n\ntype PageState = 'loading' | 'ready' | 'opening' | 'success' | 'error';\n\ninterface EnvelopeInfo {\n    id: string;\n    coinType: string;\n    coinSymbol: string;\n    coinDecimals: number;\n    totalCount: number;\n    remainingCount: number;\n    expireTimeMs: number;\n}\n\nconst sleep = (ms: number) =>\n    new Promise(resolve => {\n        setTimeout(resolve, ms);\n    });\n\nconst formatClaimError = (error: any) => {\n    const raw = error?.message || '领取失败';\n    const match = raw.match(/,\\s*(\\d+)\\)/);\n    const code = match ? Number.parseInt(match[1], 10) : -1;\n\n    if (code === 5) return '红包已被领完';\n    if (code === 6) return '红包已过期';\n    if (code === 10) return '你已经领取过这个红包';\n    if (code === 8) return '领取凭证校验失败';\n    if (code === 0) return '合约当前已暂停';\n    return raw;\n};\n\nconst getObjectFields = (content: unknown) => {\n    if (!content || typeof content !== 'object') return null;\n    const dataType = (content as any).dataType;\n    if (dataType !== 'moveObject') return null;\n    const fields = (content as any).fields;\n    if (!fields || typeof fields !== 'object') return null;\n    return ((fields as any).fields ?? fields) as Record<string, unknown>;\n};\n\nexport default function ClaimPage() {\n    const navigate = useNavigate();\n    const { id } = useParams<{ id: string }>();\n    const account = useCurrentAccount();\n    const suiClient = useSuiClient();\n    const { mutate: signAndExecute } = useSignAndExecuteTransaction();\n\n    const [state, setState] = useState<PageState>('loading');\n    const [envelope, setEnvelope] = useState<EnvelopeInfo | null>(null);\n    const [secret, setSecret] = useState('');\n    const [claimedAmount, setClaimedAmount] = useState<number>(0);\n    const [error, setError] = useState('');\n    const [showStarAnim, setShowStarAnim] = useState(false);\n    const [transferred, setTransferred] = useState(false);\n\n    const handleTransferToWish = useCallback(() => {\n        setShowStarAnim(true);\n    }, []);\n\n    const handleStarClose = useCallback(() => {\n        setShowStarAnim(false);\n        setTransferred(true);\n        const symbol = envelope?.coinSymbol ?? 'USDC';\n        message.success(`已转入心愿单 ${claimedAmount.toFixed(2)} ${symbol}`);\n    }, [claimedAmount, envelope?.coinSymbol]);\n\n    useEffect(() => {\n        let active = true;\n\n        const loadEnvelope = async () => {\n            if (!id) {\n                setError('红包链接无效');\n                setState('error');\n                return;\n            }\n\n            if (!isLuckyMoneyConfigReady()) {\n                setError('合约地址未配置，请先补全链上配置');\n                setState('error');\n                return;\n            }\n\n            const hashSecret =\n                typeof window === 'undefined'\n                    ? ''\n                    : window.location.hash.replace(/^#/, '').trim();\n            setSecret(hashSecret);\n\n            try {\n                const objectResp = await suiClient.getObject({\n                    id,\n                    options: {\n                        showType: true,\n                        showContent: true,\n                    },\n                });\n\n                const objectData = objectResp.data;\n                if (!objectData?.type || !objectData?.content) {\n                    throw new Error('红包不存在或已被删除');\n                }\n\n                if (!objectData.type.includes('::core::LuckyMoney<')) {\n                    throw new Error('对象类型不是 LuckyMoney 红包');\n                }\n\n                const coinType = parseTypeArgument(objectData.type);\n                if (!coinType) {\n                    throw new Error('无法解析红包币种类型');\n                }\n\n                const fields = getObjectFields(objectData.content);\n                if (!fields) {\n                    throw new Error('无法解析红包对象字段');\n                }\n\n                const remainingCount = Number(fields.remaining_count ?? 0);\n                const totalCount = Number(fields.total_count ?? 0);\n                const expireTimeMs = Number(fields.expire_time ?? 0);\n\n                const metadata = await suiClient\n                    .getCoinMetadata({ coinType })\n                    .catch(() => null);\n                const coinDecimals = metadata?.decimals ?? BTC_USDC_DECIMALS;\n                const coinSymbol = metadata?.symbol || getCoinSymbolFromType(coinType);\n\n                if (!active) return;\n\n                setEnvelope({\n                    id,\n                    coinType,\n                    coinSymbol,\n                    coinDecimals,\n                    totalCount,\n                    remainingCount,\n                    expireTimeMs,\n                });\n\n                if (!hashSecret) {\n                    setError('链接缺少 secret，无法领取红包');\n                    setState('error');\n                    return;\n                }\n\n                if (remainingCount <= 0) {\n                    setError('红包已被领完');\n                    setState('error');\n                    return;\n                }\n\n                if (expireTimeMs > 0 && Date.now() >= expireTimeMs) {\n                    setError('红包已过期');\n                    setState('error');\n                    return;\n                }\n\n                setState('ready');\n            } catch (e: any) {\n                if (!active) return;\n                console.error(e);\n                setError(e?.message || '红包不存在或已过期');\n                setState('error');\n            }\n        };\n\n        setState('loading');\n        loadEnvelope();\n\n        return () => {\n            active = false;\n        };\n    }, [id, suiClient]);\n\n    const handleOpen = async () => {\n        if (!account) {\n            message.warning('请先连接钱包');\n            return;\n        }\n\n        if (!envelope) {\n            message.error('红包信息加载失败');\n            return;\n        }\n\n        if (!secret) {\n            message.error('链接缺少 secret，无法领取');\n            return;\n        }\n\n        setState('opening');\n\n        try {\n            const tx = new Transaction();\n            tx.setSender(account.address);\n\n            const nullifierSeed = `${envelope.id}:${account.address.toLowerCase()}:${secret}`;\n            const nullifier = await sha256Bytes(nullifierSeed);\n\n            const [claimedCoin] = tx.moveCall({\n                target: `${LUCKY_MONEY_PACKAGE_ID}::core::claim`,\n                typeArguments: [envelope.coinType],\n                arguments: [\n                    tx.object(LUCKY_MONEY_REGISTRY_ID),\n                    tx.object(envelope.id),\n                    tx.pure.vector('u8', []),\n                    tx.pure.vector('u8', []),\n                    tx.pure.vector('u8', Array.from(nullifier)),\n                    tx.object(SUI_RANDOM_OBJECT_ID),\n                    tx.object(SUI_CLOCK_OBJECT_ID),\n                ],\n            });\n\n            tx.transferObjects([claimedCoin], account.address);\n\n            signAndExecute(\n                { transaction: tx as any },\n                {\n                    onSuccess: async result => {\n                        try {\n                            let txResult: any = null;\n                            for (let i = 0; i < 10; i++) {\n                                txResult = await suiClient.getTransactionBlock({\n                                    digest: result.digest,\n                                    options: {\n                                        showEvents: true,\n                                        showBalanceChanges: true,\n                                    },\n                                });\n\n                                const hasData =\n                                    (txResult?.events?.length ?? 0) > 0 ||\n                                    (txResult?.balanceChanges?.length ?? 0) > 0;\n                                if (hasData) break;\n                                await sleep(1000);\n                            }\n\n                            let amountRaw = BigInt(0);\n                            const claimEvent = txResult?.events?.find((evt: any) => {\n                                if (typeof evt?.type !== 'string') return false;\n                                return evt.type.endsWith('::events::LuckyMoneyClaimed');\n                            });\n\n                            const eventAmount = claimEvent?.parsedJson?.amount;\n                            if (typeof eventAmount === 'string') {\n                                amountRaw = BigInt(eventAmount);\n                            } else if (typeof eventAmount === 'number') {\n                                amountRaw = BigInt(eventAmount);\n                            }\n\n                            if (amountRaw === BigInt(0)) {\n                                const income = txResult?.balanceChanges?.find((change: any) => {\n                                    const owner = change?.owner?.AddressOwner;\n                                    if (\n                                        !owner ||\n                                        owner.toLowerCase() !== account.address.toLowerCase()\n                                    ) {\n                                        return false;\n                                    }\n                                    if (change.coinType !== envelope.coinType) return false;\n                                    try {\n                                        return BigInt(change.amount) > BigInt(0);\n                                    } catch {\n                                        return false;\n                                    }\n                                });\n\n                                if (income?.amount) {\n                                    amountRaw = BigInt(income.amount);\n                                }\n                            }\n\n                            const amount =\n                                Number(amountRaw) / 10 ** envelope.coinDecimals;\n\n                            setClaimedAmount(amount);\n                            setState('success');\n                        } catch (resolveError: any) {\n                            console.error('Failed to parse claim result:', resolveError);\n                            setError('领取成功，但解析金额失败');\n                            setState('error');\n                        }\n                    },\n                    onError: txError => {\n                        console.error(txError);\n                        setState('ready');\n                        message.error(formatClaimError(txError));\n                    },\n                },\n            );\n        } catch (e: any) {\n            console.error(e);\n            setState('ready');\n            message.error(formatClaimError(e));\n        }\n    };\n\n    return (\n        <PageContainer>\n            <div\n                style={{\n                    minHeight: '100vh',\n                    display: 'flex',\n                    flexDirection: 'column',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    padding: 'calc(var(--lm-notch-height) + 20px) 20px 40px',\n                    position: 'relative',\n                    overflow: 'hidden',\n                }}\n            >\n                <div\n                    style={{\n                        position: 'absolute',\n                        top: 'calc(var(--lm-notch-height) + 6px)',\n                        right: 16,\n                        zIndex: 10,\n                    }}\n                >\n                    <ConnectButton\n                        connectText=\"连接钱包\"\n                        style={{\n                            height: 32,\n                            padding: '0 10px',\n                            borderRadius: 16,\n                            border: '1px solid rgba(212,56,13,0.12)',\n                            background: 'rgba(255,255,255,0.8)',\n                            color: LUCKY_COLORS.red500,\n                            fontSize: 12,\n                            fontWeight: 600,\n                            cursor: 'pointer',\n                        }}\n                    />\n                </div>\n\n                <div\n                    style={{\n                        position: 'absolute',\n                        top: -200,\n                        left: '50%',\n                        transform: 'translateX(-50%)',\n                        width: 600,\n                        height: 400,\n                        borderRadius: '50%',\n                        background: LUCKY_COLORS.gradientRedDown,\n                        opacity: 0.05,\n                        pointerEvents: 'none',\n                    }}\n                />\n\n                <AnimatePresence mode=\"wait\">\n                    {state === 'loading' && (\n                        <motion.div\n                            key=\"loading\"\n                            initial={{ opacity: 0 }}\n                            animate={{ opacity: 1 }}\n                            exit={{ opacity: 0 }}\n                            style={{ textAlign: 'center' }}\n                        >\n                            <motion.div\n                                animate={{ rotate: 360 }}\n                                transition={{\n                                    repeat: Infinity,\n                                    duration: 2,\n                                    ease: 'linear',\n                                }}\n                                style={{\n                                    width: 56,\n                                    height: 56,\n                                    borderRadius: '50%',\n                                    background: LUCKY_COLORS.gradientRedSoft,\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    justifyContent: 'center',\n                                    margin: '0 auto 16px',\n                                    boxShadow: '0 4px 20px rgba(212, 56, 13, 0.2)',\n                                }}\n                            >\n                                <GiftOutlined style={{ fontSize: 24, color: '#FFF' }} />\n                            </motion.div>\n                            <p style={{ color: LUCKY_COLORS.textSecondary, fontSize: 14 }}>\n                                正在加载链上红包...\n                            </p>\n                        </motion.div>\n                    )}\n\n                    {state === 'ready' && envelope && (\n                        <motion.div\n                            key=\"ready\"\n                            initial={{ opacity: 0, scale: 0.9 }}\n                            animate={{ opacity: 1, scale: 1 }}\n                            exit={{ opacity: 0, scale: 0.9 }}\n                            style={{\n                                display: 'flex',\n                                flexDirection: 'column',\n                                alignItems: 'center',\n                                width: '100%',\n                            }}\n                        >\n                            <h2\n                                style={{\n                                    fontSize: 20,\n                                    fontWeight: 700,\n                                    color: LUCKY_COLORS.red500,\n                                    margin: '0 0 4px',\n                                }}\n                            >\n                                你收到一个红包\n                            </h2>\n                            <p\n                                style={{\n                                    fontSize: 13,\n                                    color: LUCKY_COLORS.textHint,\n                                    margin: '0 0 8px',\n                                }}\n                            >\n                                剩余 {envelope.remainingCount}/{envelope.totalCount} 份\n                            </p>\n                            <p\n                                style={{\n                                    fontSize: 12,\n                                    color: LUCKY_COLORS.textHint,\n                                    margin: '0 0 28px',\n                                }}\n                            >\n                                币种: {envelope.coinSymbol}\n                            </p>\n\n                            <EnvelopeOpenAnimation onOpen={handleOpen} />\n                        </motion.div>\n                    )}\n\n                    {state === 'opening' && (\n                        <motion.div\n                            key=\"opening\"\n                            initial={{ opacity: 0 }}\n                            animate={{ opacity: 1 }}\n                            exit={{ opacity: 0 }}\n                            style={{ textAlign: 'center' }}\n                        >\n                            <motion.div\n                                animate={{ scale: [1, 1.1, 1] }}\n                                transition={{\n                                    repeat: Infinity,\n                                    duration: 0.6,\n                                }}\n                                style={{\n                                    width: 64,\n                                    height: 64,\n                                    borderRadius: '50%',\n                                    background: LUCKY_COLORS.gradientRedSoft,\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    justifyContent: 'center',\n                                    margin: '0 auto 16px',\n                                    boxShadow: '0 4px 20px rgba(212, 56, 13, 0.25)',\n                                }}\n                            >\n                                <GiftOutlined style={{ fontSize: 28, color: '#FFF' }} />\n                            </motion.div>\n                            <p style={{ color: LUCKY_COLORS.textSecondary, fontSize: 14 }}>\n                                请在钱包中确认交易...\n                            </p>\n                        </motion.div>\n                    )}\n\n                    {state === 'success' && envelope && (\n                        <motion.div\n                            key=\"success\"\n                            initial={{ opacity: 0, scale: 0.8 }}\n                            animate={{ opacity: 1, scale: 1 }}\n                            style={{\n                                textAlign: 'center',\n                                width: '100%',\n                                display: 'flex',\n                                flexDirection: 'column',\n                                alignItems: 'center',\n                            }}\n                        >\n                            <motion.div\n                                initial={{ scale: 0, rotate: -180 }}\n                                animate={{ scale: 1, rotate: 0 }}\n                                transition={{ type: 'spring', stiffness: 200, damping: 12 }}\n                            >\n                                <SmileOutlined\n                                    style={{\n                                        fontSize: 56,\n                                        color: LUCKY_COLORS.gold500,\n                                        marginBottom: 16,\n                                    }}\n                                />\n                            </motion.div>\n                            <h2\n                                style={{\n                                    fontSize: 20,\n                                    fontWeight: 700,\n                                    color: LUCKY_COLORS.textPrimary,\n                                    margin: '0 0 20px',\n                                }}\n                            >\n                                恭喜发财！\n                            </h2>\n\n                            <motion.div\n                                initial={{ opacity: 0, y: 20 }}\n                                animate={{ opacity: 1, y: 0 }}\n                                transition={{ delay: 0.3 }}\n                                style={{\n                                    background: LUCKY_COLORS.gradientRedSoft,\n                                    borderRadius: 20,\n                                    padding: '28px 20px',\n                                    marginBottom: 28,\n                                    boxShadow: '0 8px 32px rgba(212, 56, 13, 0.15)',\n                                    color: '#FFFFFF',\n                                }}\n                            >\n                                <p\n                                    style={{\n                                        fontSize: 13,\n                                        opacity: 0.8,\n                                        margin: '0 0 8px',\n                                    }}\n                                >\n                                    获得红包\n                                </p>\n                                <div\n                                    style={{\n                                        display: 'flex',\n                                        alignItems: 'baseline',\n                                        justifyContent: 'center',\n                                        gap: 6,\n                                    }}\n                                >\n                                    <span\n                                        style={{\n                                            fontSize: 40,\n                                            fontWeight: 900,\n                                        }}\n                                    >\n                                        {claimedAmount.toFixed(2)}\n                                    </span>\n                                    <span style={{ fontSize: 16, opacity: 0.8 }}>\n                                        {envelope.coinSymbol}\n                                    </span>\n                                </div>\n                            </motion.div>\n\n                            <div\n                                style={{\n                                    display: 'flex',\n                                    gap: 12,\n                                    flexDirection: 'column',\n                                    width: '100%',\n                                    maxWidth: 260,\n                                    alignItems: 'center',\n                                }}\n                            >\n                                {!transferred && (\n                                    <motion.button\n                                        initial={{ opacity: 0, y: 10 }}\n                                        animate={{ opacity: 1, y: 0 }}\n                                        transition={{ delay: 0.45 }}\n                                        whileTap={{ scale: 0.97 }}\n                                        onClick={handleTransferToWish}\n                                        style={{\n                                            width: '100%',\n                                            height: 48,\n                                            borderRadius: 24,\n                                            background: LUCKY_COLORS.gradientRedSoft,\n                                            border: 'none',\n                                            color: '#FFFFFF',\n                                            fontSize: 15,\n                                            fontWeight: 600,\n                                            cursor: 'pointer',\n                                            display: 'flex',\n                                            alignItems: 'center',\n                                            justifyContent: 'center',\n                                            gap: 8,\n                                            boxShadow: '0 4px 16px rgba(250, 173, 20, 0.3)',\n                                        }}\n                                    >\n                                        <StarOutlined /> 转入心愿单\n                                    </motion.button>\n                                )}\n                                {transferred && (\n                                    <motion.div\n                                        initial={{ opacity: 0, scale: 0.9 }}\n                                        animate={{ opacity: 1, scale: 1 }}\n                                        style={{\n                                            fontSize: 13,\n                                            color: LUCKY_COLORS.red500,\n                                            fontWeight: 500,\n                                            padding: '10px 0',\n                                        }}\n                                    >\n                                        ⭐ 已转入心愿单\n                                    </motion.div>\n                                )}\n                                <motion.button\n                                    initial={{ opacity: 0, y: 10 }}\n                                    animate={{ opacity: 1, y: 0 }}\n                                    transition={{ delay: 0.55 }}\n                                    whileTap={{ scale: 0.97 }}\n                                    onClick={() => navigate('/')}\n                                    style={{\n                                        width: '100%',\n                                        height: 48,\n                                        borderRadius: 24,\n                                        background: LUCKY_COLORS.pureWhite,\n                                        border: `1.5px solid rgba(212, 56, 13, 0.12)`,\n                                        color: LUCKY_COLORS.red500,\n                                        fontSize: 15,\n                                        fontWeight: 600,\n                                        cursor: 'pointer',\n                                        boxShadow: 'var(--lm-shadow-sm)',\n                                    }}\n                                >\n                                    返回首页\n                                </motion.button>\n                            </div>\n                        </motion.div>\n                    )}\n\n                    {state === 'error' && (\n                        <motion.div\n                            key=\"error\"\n                            initial={{ opacity: 0, scale: 0.9 }}\n                            animate={{ opacity: 1, scale: 1 }}\n                            style={{ textAlign: 'center', width: '100%', maxWidth: 320 }}\n                        >\n                            <FrownOutlined\n                                style={{\n                                    fontSize: 56,\n                                    color: LUCKY_COLORS.textHint,\n                                    marginBottom: 16,\n                                }}\n                            />\n                            <h2\n                                style={{\n                                    fontSize: 18,\n                                    fontWeight: 600,\n                                    color: LUCKY_COLORS.textPrimary,\n                                    margin: '0 0 8px',\n                                }}\n                            >\n                                无法领取\n                            </h2>\n                            <p\n                                style={{\n                                    fontSize: 14,\n                                    color: LUCKY_COLORS.textHint,\n                                    margin: '0 0 24px',\n                                    lineHeight: 1.6,\n                                }}\n                            >\n                                {error}\n                            </p>\n                            <div\n                                style={{\n                                    display: 'flex',\n                                    gap: 10,\n                                    justifyContent: 'center',\n                                }}\n                            >\n                                <motion.button\n                                    whileTap={{ scale: 0.97 }}\n                                    onClick={() => navigate('/')}\n                                    style={{\n                                        height: 44,\n                                        borderRadius: 22,\n                                        background: 'rgba(0,0,0,0.04)',\n                                        border: 'none',\n                                        color: LUCKY_COLORS.textSecondary,\n                                        fontSize: 14,\n                                        fontWeight: 500,\n                                        cursor: 'pointer',\n                                        padding: '0 24px',\n                                    }}\n                                >\n                                    返回首页\n                                </motion.button>\n                                {envelope && envelope.remainingCount > 0 && (\n                                    <motion.button\n                                        whileTap={{ scale: 0.97 }}\n                                        onClick={() => setState('ready')}\n                                        style={{\n                                            height: 44,\n                                            borderRadius: 22,\n                                            background: LUCKY_COLORS.gradientRedSoft,\n                                            border: 'none',\n                                            color: '#FFFFFF',\n                                            fontSize: 14,\n                                            fontWeight: 600,\n                                            cursor: 'pointer',\n                                            padding: '0 24px',\n                                        }}\n                                    >\n                                        重试领取\n                                    </motion.button>\n                                )}\n                            </div>\n                        </motion.div>\n                    )}\n                </AnimatePresence>\n            </div>\n\n            <StarBottleAnimation\n                visible={showStarAnim}\n                amount={claimedAmount}\n                totalSaved={claimedAmount}\n                onClose={handleStarClose}\n            />\n        </PageContainer>\n    );\n}\n"],"names":["PageContainer","param","children","STABLE_LAYER_NETWORK","USDC_TYPE","BTC_USDC_TYPE","LUCKY_MONEY_PACKAGE_ID","LUCKY_MONEY_REGISTRY_ID","isLuckyMoneyConfigReady","parseTypeArgument","fullType","match","getCoinSymbolFromType","coinType","parts","encoder","TextEncoder","randomBytes","size","_globalThis_crypto","Error","bytes","Uint8Array","globalThis","sha256Bytes","input","normalized","bytesToHex","Array","b","EnvelopeOpenAnimation","onOpen","motion","LUCKY_COLORS","Infinity","_","i","rand","min","max","Math","StarBottleAnimation","visible","amount","totalSaved","onClose","phase","setPhase","useState","displayAmount","setDisplayAmount","stars","useMemo","sparkles","goldParticles","useEffect","t1","setTimeout","t2","t3","clearTimeout","start","increment","end","duration","current","iv","setInterval","clearInterval","Number","AnimatePresence","sp","gp","star","sleep","ms","Promise","resolve","formatClaimError","error","raw","code","ClaimPage","navigate","useNavigate","id","useParams","account","useCurrentAccount","suiClient","useSuiClient","signAndExecute","useSignAndExecuteTransaction","state","setState","envelope","setEnvelope","secret","setSecret","claimedAmount","setClaimedAmount","setError","showStarAnim","setShowStarAnim","transferred","setTransferred","handleTransferToWish","useCallback","handleStarClose","symbol","message","active","loadEnvelope","hashSecret","window","objectData","objectResp","fields","getObjectFields","content","dataType","remainingCount","totalCount","expireTimeMs","metadata","coinDecimals","BTC_USDC_DECIMALS","coinSymbol","Date","e","console","handleOpen","tx","Transaction","nullifierSeed","nullifier","claimedCoin","SUI_RANDOM_OBJECT_ID","SUI_CLOCK_OBJECT_ID","result","_txResult_events","_claimEvent_parsedJson","_txResult_events1","_txResult_balanceChanges","_txResult_balanceChanges1","txResult","amountRaw","BigInt","claimEvent","evt","eventAmount","income","change","_change_owner","owner","resolveError","txError","ConnectButton","GiftOutlined","SmileOutlined","StarOutlined","FrownOutlined"],"mappings":"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"}